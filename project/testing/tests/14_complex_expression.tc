// TINYC TEST
// INFO: Complex nested expressions and operator precedence
// RESULT: {"nodeType":"Program","declarations":[{"nodeType":"FunctionDefinition","identifier":"add","returnType":{"nodeType":"PrimitiveType","kind":"int","location":{"filename":"../examples/14_complex_expression.tc","line":3,"column":1}},"parameters":[{"nodeType":"Parameter","identifier":"a","type":{"nodeType":"PrimitiveType","kind":"int","location":{"filename":"../examples/14_complex_expression.tc","line":3,"column":9}},"location":{"filename":"../examples/14_complex_expression.tc","line":3,"column":13}},{"nodeType":"Parameter","identifier":"b","type":{"nodeType":"PrimitiveType","kind":"int","location":{"filename":"../examples/14_complex_expression.tc","line":3,"column":16}},"location":{"filename":"../examples/14_complex_expression.tc","line":3,"column":20}}],"body":{"nodeType":"BlockStatement","statements":[{"nodeType":"ReturnStatement","expression":{"nodeType":"BinaryExpression","operator":"+","left":{"nodeType":"Identifier","identifier":"a","location":{"filename":"../examples/14_complex_expression.tc","line":4,"column":12}},"right":{"nodeType":"Identifier","identifier":"b","location":{"filename":"../examples/14_complex_expression.tc","line":4,"column":16}},"location":{"filename":"../examples/14_complex_expression.tc","line":4,"column":12}},"location":{"filename":"../examples/14_complex_expression.tc","line":4,"column":5}}],"location":{"filename":"../examples/14_complex_expression.tc","line":3,"column":23}},"location":{"filename":"../examples/14_complex_expression.tc","line":3,"column":5}},{"nodeType":"FunctionDefinition","identifier":"main","returnType":{"nodeType":"PrimitiveType","kind":"int","location":{"filename":"../examples/14_complex_expression.tc","line":7,"column":1}},"parameters":[],"body":{"nodeType":"BlockStatement","statements":[{"nodeType":"ExpressionStatement","expression":{"nodeType":"VariableDeclaration","identifier":"a","type":{"nodeType":"PrimitiveType","kind":"int","location":{"filename":"../examples/14_complex_expression.tc","line":8,"column":5}},"initializer":{"nodeType":"Literal","kind":"integer","value":5,"location":{"filename":"../examples/14_complex_expression.tc","line":8,"column":13}},"location":{"filename":"../examples/14_complex_expression.tc","line":8,"column":9}},"location":{"filename":"../examples/14_complex_expression.tc","line":8,"column":9}},{"nodeType":"ExpressionStatement","expression":{"nodeType":"VariableDeclaration","identifier":"b","type":{"nodeType":"PrimitiveType","kind":"int","location":{"filename":"../examples/14_complex_expression.tc","line":9,"column":5}},"initializer":{"nodeType":"Literal","kind":"integer","value":10,"location":{"filename":"../examples/14_complex_expression.tc","line":9,"column":13}},"location":{"filename":"../examples/14_complex_expression.tc","line":9,"column":9}},"location":{"filename":"../examples/14_complex_expression.tc","line":9,"column":9}},{"nodeType":"ExpressionStatement","expression":{"nodeType":"VariableDeclaration","identifier":"c","type":{"nodeType":"PrimitiveType","kind":"int","location":{"filename":"../examples/14_complex_expression.tc","line":10,"column":5}},"initializer":{"nodeType":"Literal","kind":"integer","value":15,"location":{"filename":"../examples/14_complex_expression.tc","line":10,"column":13}},"location":{"filename":"../examples/14_complex_expression.tc","line":10,"column":9}},"location":{"filename":"../examples/14_complex_expression.tc","line":10,"column":9}},{"nodeType":"ExpressionStatement","expression":{"nodeType":"VariableDeclaration","identifier":"arr","type":{"nodeType":"PrimitiveType","kind":"int","location":{"filename":"../examples/14_complex_expression.tc","line":11,"column":5}},"arraySize":{"nodeType":"Literal","kind":"integer","value":5,"location":{"filename":"../examples/14_complex_expression.tc","line":11,"column":13}},"location":{"filename":"../examples/14_complex_expression.tc","line":11,"column":9}},"location":{"filename":"../examples/14_complex_expression.tc","line":11,"column":9}},{"nodeType":"ExpressionStatement","expression":{"nodeType":"VariableDeclaration","identifier":"result","type":{"nodeType":"PrimitiveType","kind":"int","location":{"filename":"../examples/14_complex_expression.tc","line":14,"column":5}},"initializer":{"nodeType":"BinaryExpression","operator":"+","left":{"nodeType":"CallExpression","callee":{"nodeType":"Identifier","identifier":"add","location":{"filename":"../examples/14_complex_expression.tc","line":14,"column":18}},"arguments":[{"nodeType":"BinaryExpression","operator":"*","left":{"nodeType":"Identifier","identifier":"a","location":{"filename":"../examples/14_complex_expression.tc","line":14,"column":22}},"right":{"nodeType":"Literal","kind":"integer","value":2,"location":{"filename":"../examples/14_complex_expression.tc","line":14,"column":26}},"location":{"filename":"../examples/14_complex_expression.tc","line":14,"column":22}},{"nodeType":"BinaryExpression","operator":"/","left":{"nodeType":"Identifier","identifier":"b","location":{"filename":"../examples/14_complex_expression.tc","line":14,"column":29}},"right":{"nodeType":"Literal","kind":"integer","value":2,"location":{"filename":"../examples/14_complex_expression.tc","line":14,"column":33}},"location":{"filename":"../examples/14_complex_expression.tc","line":14,"column":29}}],"location":{"filename":"../examples/14_complex_expression.tc","line":14,"column":18}},"right":{"nodeType":"BinaryExpression","operator":"%","left":{"nodeType":"Identifier","identifier":"c","location":{"filename":"../examples/14_complex_expression.tc","line":14,"column":39}},"right":{"nodeType":"Literal","kind":"integer","value":7,"location":{"filename":"../examples/14_complex_expression.tc","line":14,"column":43}},"location":{"filename":"../examples/14_complex_expression.tc","line":14,"column":39}},"location":{"filename":"../examples/14_complex_expression.tc","line":14,"column":18}},"location":{"filename":"../examples/14_complex_expression.tc","line":14,"column":9}},"location":{"filename":"../examples/14_complex_expression.tc","line":14,"column":9}},{"nodeType":"ExpressionStatement","expression":{"nodeType":"VariableDeclaration","identifier":"ch","type":{"nodeType":"PrimitiveType","kind":"char","location":{"filename":"../examples/14_complex_expression.tc","line":16,"column":5}},"initializer":{"nodeType":"Literal","kind":"char","value":"c","location":{"filename":"../examples/14_complex_expression.tc","line":16,"column":16}},"location":{"filename":"../examples/14_complex_expression.tc","line":16,"column":10}},"location":{"filename":"../examples/14_complex_expression.tc","line":16,"column":10}},{"nodeType":"ExpressionStatement","expression":{"nodeType":"VariableDeclaration","identifier":"x","type":{"nodeType":"PrimitiveType","kind":"int","location":{"filename":"../examples/14_complex_expression.tc","line":19,"column":5}},"initializer":{"nodeType":"CommaExpression","expressions":[{"nodeType":"UnaryExpression","operator":"++","prefix":false,"operand":{"nodeType":"Identifier","identifier":"a","location":{"filename":"../examples/14_complex_expression.tc","line":19,"column":14}},"location":{"filename":"../examples/14_complex_expression.tc","line":19,"column":14}},{"nodeType":"UnaryExpression","operator":"++","prefix":false,"operand":{"nodeType":"Identifier","identifier":"b","location":{"filename":"../examples/14_complex_expression.tc","line":19,"column":19}},"location":{"filename":"../examples/14_complex_expression.tc","line":19,"column":19}},{"nodeType":"BinaryExpression","operator":"+","left":{"nodeType":"Identifier","identifier":"a","location":{"filename":"../examples/14_complex_expression.tc","line":19,"column":24}},"right":{"nodeType":"Identifier","identifier":"b","location":{"filename":"../examples/14_complex_expression.tc","line":19,"column":28}},"location":{"filename":"../examples/14_complex_expression.tc","line":19,"column":24}}],"location":{"filename":"../examples/14_complex_expression.tc","line":19,"column":14}},"location":{"filename":"../examples/14_complex_expression.tc","line":19,"column":9}},"location":{"filename":"../examples/14_complex_expression.tc","line":19,"column":9}},{"nodeType":"ExpressionStatement","expression":{"nodeType":"BinaryExpression","operator":"=","left":{"nodeType":"IndexExpression","array":{"nodeType":"Identifier","identifier":"arr","location":{"filename":"../examples/14_complex_expression.tc","line":22,"column":5}},"index":{"nodeType":"CallExpression","callee":{"nodeType":"Identifier","identifier":"add","location":{"filename":"../examples/14_complex_expression.tc","line":22,"column":9}},"arguments":[{"nodeType":"Literal","kind":"integer","value":1,"location":{"filename":"../examples/14_complex_expression.tc","line":22,"column":13}},{"nodeType":"Literal","kind":"integer","value":2,"location":{"filename":"../examples/14_complex_expression.tc","line":22,"column":16}}],"location":{"filename":"../examples/14_complex_expression.tc","line":22,"column":9}},"location":{"filename":"../examples/14_complex_expression.tc","line":22,"column":5}},"right":{"nodeType":"BinaryExpression","operator":"+","left":{"nodeType":"Identifier","identifier":"a","location":{"filename":"../examples/14_complex_expression.tc","line":22,"column":22}},"right":{"nodeType":"BinaryExpression","operator":"*","left":{"nodeType":"Identifier","identifier":"b","location":{"filename":"../examples/14_complex_expression.tc","line":22,"column":26}},"right":{"nodeType":"Identifier","identifier":"c","location":{"filename":"../examples/14_complex_expression.tc","line":22,"column":30}},"location":{"filename":"../examples/14_complex_expression.tc","line":22,"column":26}},"location":{"filename":"../examples/14_complex_expression.tc","line":22,"column":22}},"location":{"filename":"../examples/14_complex_expression.tc","line":22,"column":5}},"location":{"filename":"../examples/14_complex_expression.tc","line":22,"column":5}},{"nodeType":"ExpressionStatement","expression":{"nodeType":"BinaryExpression","operator":"=","left":{"nodeType":"Identifier","identifier":"result","location":{"filename":"../examples/14_complex_expression.tc","line":25,"column":5}},"right":{"nodeType":"BinaryExpression","operator":"+","left":{"nodeType":"BinaryExpression","operator":"+","left":{"nodeType":"Identifier","identifier":"result","location":{"filename":"../examples/14_complex_expression.tc","line":25,"column":14}},"right":{"nodeType":"BinaryExpression","operator":"*","left":{"nodeType":"Identifier","identifier":"a","location":{"filename":"../examples/14_complex_expression.tc","line":25,"column":23}},"right":{"nodeType":"Identifier","identifier":"b","location":{"filename":"../examples/14_complex_expression.tc","line":25,"column":27}},"location":{"filename":"../examples/14_complex_expression.tc","line":25,"column":23}},"location":{"filename":"../examples/14_complex_expression.tc","line":25,"column":14}},"right":{"nodeType":"BinaryExpression","operator":"/","left":{"nodeType":"Identifier","identifier":"c","location":{"filename":"../examples/14_complex_expression.tc","line":25,"column":31}},"right":{"nodeType":"Literal","kind":"integer","value":2,"location":{"filename":"../examples/14_complex_expression.tc","line":25,"column":35}},"location":{"filename":"../examples/14_complex_expression.tc","line":25,"column":31}},"location":{"filename":"../examples/14_complex_expression.tc","line":25,"column":14}},"location":{"filename":"../examples/14_complex_expression.tc","line":25,"column":5}},"location":{"filename":"../examples/14_complex_expression.tc","line":25,"column":5}},{"nodeType":"ExpressionStatement","expression":{"nodeType":"VariableDeclaration","identifier":"val","type":{"nodeType":"PrimitiveType","kind":"int","location":{"filename":"../examples/14_complex_expression.tc","line":28,"column":5}},"initializer":{"nodeType":"BinaryExpression","operator":"+","left":{"nodeType":"BinaryExpression","operator":"/","left":{"nodeType":"BinaryExpression","operator":"*","left":{"nodeType":"BinaryExpression","operator":"+","left":{"nodeType":"Identifier","identifier":"a","location":{"filename":"../examples/14_complex_expression.tc","line":28,"column":17}},"right":{"nodeType":"Identifier","identifier":"b","location":{"filename":"../examples/14_complex_expression.tc","line":28,"column":21}},"location":{"filename":"../examples/14_complex_expression.tc","line":28,"column":17}},"right":{"nodeType":"Identifier","identifier":"c","location":{"filename":"../examples/14_complex_expression.tc","line":28,"column":26}},"location":{"filename":"../examples/14_complex_expression.tc","line":28,"column":17}},"right":{"nodeType":"BinaryExpression","operator":"-","left":{"nodeType":"Identifier","identifier":"a","location":{"filename":"../examples/14_complex_expression.tc","line":28,"column":32}},"right":{"nodeType":"Literal","kind":"integer","value":1,"location":{"filename":"../examples/14_complex_expression.tc","line":28,"column":36}},"location":{"filename":"../examples/14_complex_expression.tc","line":28,"column":32}},"location":{"filename":"../examples/14_complex_expression.tc","line":28,"column":17}},"right":{"nodeType":"CallExpression","callee":{"nodeType":"Identifier","identifier":"add","location":{"filename":"../examples/14_complex_expression.tc","line":28,"column":41}},"arguments":[{"nodeType":"Identifier","identifier":"a","location":{"filename":"../examples/14_complex_expression.tc","line":28,"column":45}},{"nodeType":"Identifier","identifier":"b","location":{"filename":"../examples/14_complex_expression.tc","line":28,"column":48}}],"location":{"filename":"../examples/14_complex_expression.tc","line":28,"column":41}},"location":{"filename":"../examples/14_complex_expression.tc","line":28,"column":17}},"location":{"filename":"../examples/14_complex_expression.tc","line":28,"column":9}},"location":{"filename":"../examples/14_complex_expression.tc","line":28,"column":9}},{"nodeType":"ReturnStatement","expression":{"nodeType":"Literal","kind":"integer","value":0,"location":{"filename":"../examples/14_complex_expression.tc","line":30,"column":12}},"location":{"filename":"../examples/14_complex_expression.tc","line":30,"column":5}}],"location":{"filename":"../examples/14_complex_expression.tc","line":7,"column":12}},"location":{"filename":"../examples/14_complex_expression.tc","line":7,"column":5}}],"location":{"filename":"../examples/14_complex_expression.tc","line":0,"column":0}}

int add(int a, int b) {
    return a + b;
}

int main() {
    int a = 5;
    int b = 10;
    int c = 15;
    int arr[5];

    // Nested expressions with function calls
    int result = add(a * 2, b / 2) + (c % 7);

    char ch = ('c');

    // Comma expressions
    int x = (a++, b++, a + b);

    // Complex array indexing
    arr[add(1, 2)] = a + b * c;

    // Complex assignment
    result = result + a * b + c / 2;

    // Compound arithmetic
    int val = ((a + b) * c) / (a - 1) + add(a, b);

    return 0;
}